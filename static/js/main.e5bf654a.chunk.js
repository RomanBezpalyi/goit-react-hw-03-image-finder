(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3De7X"}},22:function(e,t,a){e.exports={gallery:"Gallery_gallery__3xPXX"}},24:function(e,t,a){e.exports=a(48)},25:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);a(25);var n=a(0),o=a.n(n),r=a(20),l=a.n(r),s=a(10),c=a(2),i=a(3),u=a(5),m=a(4),d=a(6),h=a(21),p=a.n(h),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.handleInput=function(e){var t=e.target;a.setState({value:t.value})},a.onSubmit=function(e){e.preventDefault();var t=a.state.value;a.props.handleSubmit(t),a.reset()},a.reset=function(){a.setState({value:""})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.value;return o.a.createElement("form",{className:p.a.searchForm,onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",autoComplete:"off",value:e,onChange:this.handleInput,placeholder:"Search images..."}))}}]),t}(n.Component),v=a(7),b=a.n(v),y=a(8),_=a.n(y),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a.createdRefs=o.a.createRef(),a.handleCloseEscape=function(e){"Escape"===e.key&&a.props.handleCloseModal()},a.handleCloseClick=function(e){a.createdRefs.current===e.target&&a.props.handleCloseModal()},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCloseEscape),console.log(this.createdRefs)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleCloseEscape)}},{key:"render",value:function(){var e=this.props.largeURL;return o.a.createElement("div",{ref:this.createdRefs,className:_.a.overlay,onClick:this.handleCloseClick},o.a.createElement("div",{className:_.a.modal},o.a.createElement("img",{src:e,alt:""})))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1},a.handleOpenModal=function(){a.setState({isOpen:!0})},a.handleCloseModal=function(){a.setState({isOpen:!1})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,a=t.webURL,n=t.likes,r=t.views,l=t.comments,s=t.downloads,c=t.largeURL;return o.a.createElement("div",{className:b.a.photoCard},o.a.createElement("img",{src:a,alt:""}),o.a.createElement("div",{className:b.a.stats},o.a.createElement("p",{className:b.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),n),o.a.createElement("p",{className:b.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),r),o.a.createElement("p",{className:b.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),l),o.a.createElement("p",{className:b.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),s)),o.a.createElement("button",{type:"button",onClick:this.handleOpenModal,className:b.a.fullscreenButton},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")),e&&o.a.createElement(E,{largeURL:c,handleCloseModal:this.handleCloseModal}))}}]),t}(n.Component),O=a(22),C=a.n(O),w=function(e){var t=e.items,a=e.modalIsOpen,n=e.onClick;return o.a.createElement("ul",{className:C.a.gallery},t.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(g,Object.assign({},e,{modalIsOpen:a,onClick:n})))}))},k=a(23),j=a.n(k),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return j.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=13104574-e8726bf8ce5565d5dafca0a13"))},N=a(9),R=a.n(N),M=function(e){return e.map(function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.id,o=e.comments;return{webURL:t,largeURL:a,id:n,likes:e.likes,comments:o,views:e.views,downloads:e.downloads}})},I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={list:[],query:"",counter:2,error:null},a.handleSubmit=function(e){a.setState({query:e}),S(e).then(function(e){var t=e.data;a.setState({list:M(t.hits)})}).catch(function(e){return a.setState({error:e})})},a.loadMore=function(){var e=a.state,t=e.query,n=e.counter;a.setState(function(e){return{counter:e.counter+1}}),S(t,n).then(function(e){var t=e.data;a.setState(function(e){return{list:[].concat(Object(s.a)(e.list),Object(s.a)(M(t.hits)))}})}).catch(function(e){return a.setState({error:e})})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.query;S(t).then(function(t){var a=t.data;e.setState({list:M(a.hits)})}).catch(function(t){return e.setState({error:t})})}},{key:"componentDidUpdate",value:function(){this.state.list.length>12&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.list,a=e.error;return o.a.createElement("div",{className:R.a.app},o.a.createElement(f,{handleSubmit:this.handleSubmit}),t.length>0&&o.a.createElement(w,{onClick:this.handleOpenModal,items:t}),a&&o.a.createElement("h2",null,"Sorry, something bad's happened..."),t.length>0&&o.a.createElement("button",{onClick:this.loadMore,className:R.a.button,type:"button"},"Load more"))}}]),t}(n.Component);l.a.render(o.a.createElement(I,null),document.getElementById("root"))},7:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__t7cyR",stats:"PhotoCard_stats__3ZeeW",statsItem:"PhotoCard_statsItem__1b8Gw",fullscreenButton:"PhotoCard_fullscreenButton__2_yF-"}},8:function(e,t,a){e.exports={overlay:"Modal_overlay__LZT3U",modal:"Modal_modal__3mFpU"}},9:function(e,t,a){e.exports={app:"App_app__2gaSR",button:"App_button__3j6qZ"}}},[[24,1,2]]]);
//# sourceMappingURL=main.e5bf654a.chunk.js.map