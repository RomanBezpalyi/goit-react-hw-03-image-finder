{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","services/api.js","components/App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Modal/Modal.module.css","components/App.module.css"],"names":["module","exports","searchForm","gallery","SearchForm","state","value","handleInput","_ref","target","_this","setState","onSubmit","e","preventDefault","props","handleSubmit","reset","this","react_default","a","createElement","className","styles","type","autoComplete","onChange","placeholder","Component","Modal","createdRefs","React","createRef","handleCloseEscape","key","handleCloseModal","handleCloseClick","current","window","addEventListener","console","log","removeEventListener","largeURL","ref","overlay","onClick","modal","src","alt","PhotoCard","isOpen","handleOpenModal","_this$props","webURL","likes","views","comments","downloads","photoCard","stats","statsItem","fullscreenButton","Modal_Modal","Gallery","items","modalIsOpen","map","item","id","PhotoCard_PhotoCard","Object","assign","fetchData","query","page","arguments","length","undefined","axios","get","concat","mapper","arr","webformatURL","largeImageURL","App","list","counter","error","api","then","_ref2","data","hits","catch","loadMore","_this$state","_ref3","toConsumableArray","_this2","_ref4","scrollTo","top","document","body","scrollHeight","behavior","_this$state2","app","SearchForm_SearchForm","components_Gallery_Gallery","button","ReactDOM","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.e5bf654a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3De7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3xPXX\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './SearchForm.module.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = { value: '' };\r\n\r\n  static propTypes = {\r\n    handleSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleInput = ({ target }) => {\r\n    this.setState({ value: target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { value } = this.state;\r\n\r\n    this.props.handleSubmit(value);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <form className={styles.searchForm} onSubmit={this.onSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={this.handleInput}\r\n          placeholder=\"Search images...\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  state = {};\r\n\r\n  createdRefs = React.createRef();\r\n\r\n  static propTypes = {\r\n    largeURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleCloseEscape);\r\n    console.log(this.createdRefs);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleCloseEscape);\r\n  }\r\n\r\n  handleCloseEscape = e => {\r\n    if (e.key !== 'Escape') return;\r\n    this.props.handleCloseModal();\r\n  };\r\n\r\n  handleCloseClick = e => {\r\n    const { current } = this.createdRefs;\r\n\r\n    if (current !== e.target) return;\r\n    this.props.handleCloseModal();\r\n  };\r\n\r\n  render() {\r\n    const { largeURL } = this.props;\r\n\r\n    return (\r\n      <div\r\n        ref={this.createdRefs}\r\n        className={styles.overlay}\r\n        onClick={this.handleCloseClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={largeURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './PhotoCard.module.css';\r\nimport Modal from '../Modal/Modal';\r\n\r\nexport default class PhotoCard extends Component {\r\n  state = { isOpen: false };\r\n\r\n  static propTypes = {\r\n    webURL: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    largeURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const { isOpen } = this.state;\r\n    const { webURL, likes, views, comments, downloads, largeURL } = this.props;\r\n\r\n    return (\r\n      <div className={styles.photoCard}>\r\n        <img src={webURL} alt=\"\" />\r\n\r\n        <div className={styles.stats}>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">thumb_up</i>\r\n            {likes}\r\n          </p>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">visibility</i>\r\n            {views}\r\n          </p>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">comment</i>\r\n            {comments}\r\n          </p>\r\n          <p className={styles.statsItem}>\r\n            <i className=\"material-icons\">cloud_download</i>\r\n            {downloads}\r\n          </p>\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.handleOpenModal}\r\n          className={styles.fullscreenButton}\r\n        >\r\n          <i className=\"material-icons\">zoom_out_map</i>\r\n        </button>\r\n        {isOpen && (\r\n          <Modal largeURL={largeURL} handleCloseModal={this.handleCloseModal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from './Gallery.module.css';\r\n\r\nconst Gallery = ({ items, modalIsOpen, onClick }) => (\r\n  <ul className={styles.gallery}>\r\n    {items.map(item => (\r\n      <li key={item.id}>\r\n        <PhotoCard {...item} modalIsOpen={modalIsOpen} onClick={onClick} />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default Gallery;\r\n","/* es-lint disable*/\r\n\r\nimport axios from 'axios';\r\n\r\nexport const fetchData = (query, page = 1) => {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=13104574-e8726bf8ce5565d5dafca0a13`,\r\n  );\r\n};\r\n","import React, { Component } from 'react';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport Gallery from './Gallery/Gallery';\r\nimport * as api from '../services/api';\r\nimport styles from './App.module.css';\r\n\r\nconst mapper = arr => {\r\n  return arr.map(\r\n    ({\r\n      webformatURL: webURL,\r\n      largeImageURL: largeURL,\r\n      id,\r\n      comments,\r\n      likes,\r\n      views,\r\n      downloads,\r\n    }) => ({\r\n      webURL,\r\n      largeURL,\r\n      id,\r\n      likes,\r\n      comments,\r\n      views,\r\n      downloads,\r\n    }),\r\n  );\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    list: [],\r\n    query: '',\r\n    counter: 2,\r\n    error: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { query } = this.state;\r\n\r\n    api\r\n      .fetchData(query)\r\n      .then(({ data }) => {\r\n        this.setState({ list: mapper(data.hits) });\r\n      })\r\n      .catch(error => this.setState({ error }));\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.list.length > 12) {\r\n      window.scrollTo({\r\n        top: document.body.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSubmit = query => {\r\n    this.setState({ query });\r\n\r\n    api\r\n      .fetchData(query)\r\n      .then(({ data }) => {\r\n        this.setState({ list: mapper(data.hits) });\r\n      })\r\n      .catch(error => this.setState({ error }));\r\n  };\r\n\r\n  loadMore = () => {\r\n    const { query, counter } = this.state;\r\n    this.setState(state => ({ counter: state.counter + 1 }));\r\n\r\n    api\r\n      .fetchData(query, counter)\r\n      .then(({ data }) => {\r\n        this.setState(state => ({\r\n          list: [...state.list, ...mapper(data.hits)],\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }));\r\n  };\r\n\r\n  render() {\r\n    const { list, error } = this.state;\r\n\r\n    return (\r\n      <div className={styles.app}>\r\n        <SearchForm handleSubmit={this.handleSubmit} />\r\n        {list.length > 0 && (\r\n          <Gallery onClick={this.handleOpenModal} items={list} />\r\n        )}\r\n        {error && <h2>Sorry, something bad's happened...</h2>}\r\n        {list.length > 0 && (\r\n          <button\r\n            onClick={this.loadMore}\r\n            className={styles.button}\r\n            type=\"button\"\r\n          >\r\n            Load more\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import './common.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__t7cyR\",\"stats\":\"PhotoCard_stats__3ZeeW\",\"statsItem\":\"PhotoCard_statsItem__1b8Gw\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2_yF-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__LZT3U\",\"modal\":\"Modal_modal__3mFpU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2gaSR\",\"button\":\"App_button__3j6qZ\"};"],"sourceRoot":""}